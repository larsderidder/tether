# Tether Configuration
# Copy to .env and fill in your values

# =============================================================================
# Core Agent Settings
# =============================================================================

# Auth token for agent API (required unless TETHER_AGENT_DEV_MODE=1)
# Optional: set to enforce bearer auth for the API/UI.
TETHER_AGENT_TOKEN=your-secure-token-here

# Development mode disables auth requirement
# TETHER_AGENT_DEV_MODE=1

# Host and port to bind the HTTP server
# TETHER_AGENT_HOST=0.0.0.0
# TETHER_AGENT_PORT=8787

# Directory for persistent data (sessions, logs, database)
# TETHER_AGENT_DATA_DIR=/path/to/data

# Default runner adapter for new sessions:
#   - codex_sdk_sidecar: Codex SDK sidecar
#   - claude_api: Claude via Anthropic SDK (requires API key)
#   - claude_local: Claude via Agent SDK (CLI OAuth)
#   - claude_auto: Auto-detect (prefer OAuth, fallback to API key)
#
# Note: Sessions can override this by specifying "adapter" at creation time.
# Multiple adapters can run simultaneously if credentials are configured.
TETHER_AGENT_ADAPTER=claude_auto

# =============================================================================
# Logging Settings
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# TETHER_AGENT_LOG_LEVEL=INFO

# Log format: "console" for dev-friendly, "json" for structured
# TETHER_AGENT_LOG_FORMAT=console

# =============================================================================
# Session Settings
# =============================================================================

# Days to retain completed sessions before pruning (default: 7)
# TETHER_AGENT_SESSION_RETENTION_DAYS=7

# Seconds of inactivity before stopping a running session (0 = disabled)
# TETHER_AGENT_SESSION_IDLE_SECONDS=0

# Maximum seconds for a runner turn before timeout (0 = disabled)
# TETHER_AGENT_TURN_TIMEOUT_SECONDS=0

# =============================================================================
# Multi-Adapter Configuration
# =============================================================================

# You can configure multiple adapters simultaneously by providing credentials
# for each. Sessions will use the default adapter unless overridden at creation.
#
# Example: Support both Claude API and Codex SDK sidecar
#   TETHER_AGENT_ADAPTER=claude_auto          # Default for new sessions
#   ANTHROPIC_API_KEY=sk-ant-...              # For claude_api sessions
#   TETHER_CODEX_SIDECAR_URL=http://localhost:8788
#
# Create session with specific adapter via API:
#   POST /api/sessions {"directory": "/path", "adapter": "codex_sdk_sidecar"}

# =============================================================================
# Claude API Key Adapter (when TETHER_AGENT_ADAPTER=claude_api)
# =============================================================================

# Required only for "claude_api" adapter; "claude_local" uses OAuth instead
# ANTHROPIC_API_KEY=sk-ant-...

# Model to use (default: claude-sonnet-4-20250514)
# TETHER_AGENT_CLAUDE_MODEL=claude-sonnet-4-20250514

# Maximum tokens for Claude responses (default: 4096)
# TETHER_AGENT_CLAUDE_MAX_TOKENS=4096

# =============================================================================
# Codex SDK Sidecar Adapter (when TETHER_AGENT_ADAPTER=codex_sdk_sidecar)
# =============================================================================

# Base URL for the Codex SDK sidecar service (default: http://localhost:8788)
# TETHER_CODEX_SIDECAR_URL=http://localhost:8788

# Authentication token for sidecar communication (optional - auth disabled if not set)
# TETHER_CODEX_SIDECAR_TOKEN=your-sidecar-token

# Path to the Codex CLI binary (optional - SDK auto-detects from PATH)
# TETHER_CODEX_SIDECAR_CODEX_BIN=/path/to/codex

# =============================================================================
# Codex SDK Sidecar Service Settings (sidecar process)
# =============================================================================

# Host and port for the sidecar HTTP server (defaults: 127.0.0.1:8788)
# TETHER_CODEX_SIDECAR_HOST=127.0.0.1
# TETHER_CODEX_SIDECAR_PORT=8788

# Sidecar logging
# TETHER_CODEX_SIDECAR_LOG_LEVEL=info
# TETHER_CODEX_SIDECAR_LOG_PRETTY=0

# Sidecar turn timeout (seconds, 0 = disabled)
# TETHER_CODEX_SIDECAR_TURN_TIMEOUT_SECONDS=0

# Optional Codex SDK tuning
# TETHER_CODEX_SIDECAR_MODEL=gpt-4.1
# TETHER_CODEX_SIDECAR_SANDBOX_MODE=workspace-write
# TETHER_CODEX_SIDECAR_APPROVAL_POLICY=on-request

# =============================================================================
# Codex Session Discovery (external session attach)
# =============================================================================

# Optional: Override CODEX_HOME for Codex session discovery
# CODEX_HOME=/path/to/.codex

# =============================================================================
# Telegram Bridge (Optional)
# =============================================================================

# Optional: configure exactly one bridge (Telegram/Slack/Discord) or none.
# If no bridge credentials are set, the agent is accessible only via the Web UI.
#
# Bot token from @BotFather
# TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Supergroup ID with topics enabled (negative integer)
# TELEGRAM_GROUP_ID=-1001234567890

# =============================================================================
# Slack Bridge (Optional)
# =============================================================================

# SLACK_BOT_TOKEN=xoxb-...
# SLACK_APP_TOKEN=xapp-...
# SLACK_CHANNEL_ID=C0123456789

# =============================================================================
# Discord Bridge (Optional)
# =============================================================================

# DISCORD_BOT_TOKEN=your-discord-bot-token
# DISCORD_CHANNEL_ID=123456789012345678
